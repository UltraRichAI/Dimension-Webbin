<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Mi Espacio Universitario</title>
  <style>
    :root {
      --bg-color: #0f172a;
      --sidebar-color: #1e293b;
      --text-color: #e2e8f0;
      --accent-color: #00d9ff;
      --card-bg: rgba(255,255,255,0.05);
      --week-bg: rgba(255,255,255,0.07);
    }

    body.light {
      --bg-color: #f1f5f9;
      --sidebar-color: #ffffff;
      --text-color: #0f172a;
      --accent-color: #0077b6;
      --card-bg: rgba(0,0,0,0.05);
      --week-bg: rgba(0,0,0,0.07);
    }

    body {
      margin: 0;
      font-family: 'Poppins', sans-serif;
      display: flex;
      background: var(--bg-color);
      color: var(--text-color);
      height: 100vh;
      overflow: hidden;
      transition: background 0.5s, color 0.5s;
    }

    .sidebar {
      width: 250px;
      background: var(--sidebar-color);
      display: flex;
      flex-direction: column;
      justify-content: space-between;
      transition: 0.3s;
      box-shadow: 2px 0 10px rgba(0,0,0,0.3);
    }

    .sidebar h2 {
      text-align: center;
      padding: 1.5rem 0;
      color: var(--accent-color);
      margin: 0;
      border-bottom: 1px solid rgba(255,255,255,0.1);
    }

    .menu {
      flex-grow: 1;
      display: flex;
      flex-direction: column;
      padding: 1rem;
    }

    .menu a {
      text-decoration: none;
      color: var(--text-color);
      padding: 10px 15px;
      margin-bottom: 8px;
      border-radius: 8px;
      transition: background 0.3s, transform 0.2s;
    }

    .menu a:hover, .menu a.active {
      background: var(--accent-color);
      color: var(--bg-color);
      transform: translateX(5px);
    }

    .footer {
      text-align: center;
      padding: 1rem;
      font-size: 0.9rem;
      border-top: 1px solid rgba(255,255,255,0.1);
    }

    .content {
      flex-grow: 1;
      overflow-y: auto;
      padding: 2rem;
    }

    header {
      text-align: center;
      margin-bottom: 2rem;
    }

    header h1 {
      font-size: 2rem;
      color: var(--accent-color);
      margin-bottom: 0.3rem;
    }

    header p {
      color: #94a3b8;
    }

    .container {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 20px;
    }

    .course-card {
      background: var(--card-bg);
      border: 1px solid rgba(255,255,255,0.1);
      border-radius: 15px;
      padding: 1.5rem;
      transition: 0.3s;
      box-shadow: 0 0 15px rgba(0,0,0,0.2);
    }

    .course-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 0 25px var(--accent-color);
    }

    .course-card h2 {
      color: var(--accent-color);
      margin-bottom: 0.5rem;
      font-size: 1.4rem;
    }

    .week {
      background: var(--week-bg);
      padding: 0.8rem;
      margin-top: 1rem;
      border-radius: 10px;
      transition: background 0.3s;
    }

    .week:hover {
      background: rgba(0,217,255,0.2);
    }

    .resources a {
      display: inline-block;
      margin-right: 10px;
      margin-top: 5px;
      text-decoration: none;
      color: #fff;
      background: var(--accent-color);
      padding: 6px 10px;
      border-radius: 5px;
      transition: 0.3s;
      font-size: 0.9rem;
    }

    .resources a:hover {
      background: #00b8d4;
      transform: scale(1.05);
    }

    /* Bot√≥n modo oscuro/claro */
    .theme-toggle {
      position: absolute;
      top: 15px;
      right: 20px;
      background: var(--accent-color);
      color: var(--bg-color);
      border: none;
      padding: 8px 14px;
      border-radius: 20px;
      font-size: 0.9rem;
      cursor: pointer;
      transition: 0.3s;
    }

    .theme-toggle:hover {
      opacity: 0.9;
      transform: scale(1.05);
    }

    @media (max-width: 768px) {
      body {
        flex-direction: column;
      }
      .sidebar {
        width: 100%;
        flex-direction: row;
        justify-content: space-around;
      }
      .menu {
        flex-direction: row;
        overflow-x: auto;
      }
      .content {
        padding: 1rem;
      }
    }
  </style>
</head>
<body>
  <div class="sidebar">
    <div>
      <h2>üéì Panel</h2>
      <div class="menu">
        <a href="#" class="active" onclick="mostrarSeccion('inicio')">üè† Inicio</a>
        <a href="#" onclick="mostrarSeccion('cursos')">üìò Mis Cursos</a>
        <a href="#" onclick="mostrarSeccion('subir')">üì§ Subir Archivos</a>
        <a href="#" onclick="mostrarSeccion('info')">‚ÑπÔ∏è Informaci√≥n</a>
      </div>
    </div>
    <div class="footer">
      <p>¬© 2025 Mi Espacio Universitario</p>
    </div>
  </div>

  <div class="content" id="main-content">
    <button class="theme-toggle" onclick="toggleTheme()">üåô Modo Claro</button>
    <header>
      <h1>Bienvenido a tu espacio universitario</h1>
      <p>Aqu√≠ podr√°s organizar tus cursos, gu√≠as y tareas.</p>
    </header>
  </div>

  <script>
    // Modo Oscuro/Claro
    const body = document.body;
    const btn = document.querySelector('.theme-toggle');

    function toggleTheme() {
      body.classList.toggle('light');
      const modo = body.classList.contains('light') ? 'claro' : 'oscuro';
      localStorage.setItem('modo', modo);
      btn.textContent = modo === 'claro' ? 'üåô Modo Oscuro' : '‚òÄÔ∏è Modo Claro';
    }

    // Restaurar modo guardado
    const modoGuardado = localStorage.getItem('modo');
    if (modoGuardado === 'claro') {
      body.classList.add('light');
      btn.textContent = 'üåô Modo Oscuro';
    }

    async function mostrarSeccion(seccion) {
      const content = document.getElementById('main-content');
      document.querySelectorAll('.menu a').forEach(a => a.classList.remove('active'));
      event.target.classList.add('active');

      if (seccion === 'inicio') {
        content.innerHTML = `
          <button class="theme-toggle" onclick="toggleTheme()">${body.classList.contains('light') ? 'üåô Modo Oscuro' : '‚òÄÔ∏è Modo Claro'}</button>
          <header>
            <h1>Bienvenido üëã</h1>
            <p>Selecciona una opci√≥n del panel lateral para empezar.</p>
          </header>`;
      } 
      else if (seccion === 'cursos') {
        const res = await fetch('courses.json');
        const data = await res.json();
        let html = `<button class="theme-toggle" onclick="toggleTheme()">${body.classList.contains('light') ? 'üåô Modo Oscuro' : '‚òÄÔ∏è Modo Claro'}</button>
        <header><h1>üìò Mis Cursos</h1><p>Selecciona tus recursos por semana.</p></header>`;
        html += '<div class="container">';
        data.courses.forEach(curso => {
          html += `
            <div class="course-card">
              <h2>${curso.title}</h2>
              <p>${curso.description}</p>
              ${curso.weeks.map(sem => `
                <div class="week">
                  <strong>Semana ${sem.week}:</strong> ${sem.topic}
                  <div class="resources">
                    ${sem.resources.map(r => `<a href="${r.url}" target="_blank">üìÑ ${r.name}</a>`).join('')}
                  </div>
                </div>`).join('')}
            </div>`;
        });
        html += '</div>';
        content.innerHTML = html;
      } 
        //de aqui empeze subir srchivo
   else if (seccion === 'subir') {
  content.innerHTML = `
    <button class="theme-toggle" onclick="toggleTheme()">
      ${body.classList.contains('light') ? 'üåô Modo Oscuro' : '‚òÄÔ∏è Modo Claro'}
    </button>

    <header>
      <h1>üì§ Subir Archivos</h1>
      <p>Sube aqu√≠ tus gu√≠as o tareas (se generar√° un enlace para compartir).</p>
    </header>

    <div style="text-align:center; margin-top:2rem;">
      <input type="file" id="fileInput" style="margin-bottom: 10px; padding:5px;">
      <br>
      <button onclick="uploadFileWithProgress()" style="background:var(--accent-color); color:var(--bg-color); border:none; padding:10px 20px; border-radius:8px; cursor:pointer;">üöÄ Subir Archivo</button>

      <div style="margin-top:20px; width:60%; max-width:400px; background:rgba(255,255,255,0.1); border-radius:10px; height:18px; margin-left:auto; margin-right:auto; overflow:hidden;">
        <div id="progressBar" style="height:100%; width:0%; background:var(--accent-color); transition:width 0.3s;"></div>
      </div>

      <p id="uploadStatus" style="margin-top:1rem; font-weight:500;"></p>
    </div>`;
     // aqui termine
}

}

      } 
      else if (seccion === 'info') {
        content.innerHTML = `
          <button class="theme-toggle" onclick="toggleTheme()">${body.classList.contains('light') ? 'üåô Modo Oscuro' : '‚òÄÔ∏è Modo Claro'}</button>
          <header>
            <h1>‚ÑπÔ∏è Informaci√≥n</h1>
            <p>Proyecto personal desarrollado por un estudiante universitario para organizar sus cursos.</p>
          </header>
          <div style="text-align:center; margin-top:2rem;">
            <p>Versi√≥n: <strong>1.0</strong></p>
            <p>Plataforma: <strong>GitHub Pages</strong></p>
            <p>Tecnolog√≠as: <strong>HTML, CSS, JavaScript, JSON</strong></p>
          </div>`;
      }
    }
// Muestra una barra animada que aumenta de tama√±o conforme sube el archivo.
    function uploadFileWithProgress() {
  const fileInput = document.getElementById('fileInput');
  const progressBar = document.getElementById('progressBar');
  const status = document.getElementById('uploadStatus');

  if (!fileInput.files.length) {
    status.textContent = '‚ö†Ô∏è Por favor selecciona un archivo primero.';
    return;
  }

  const file = fileInput.files[0];
  const formData = new FormData();
  formData.append('file', file);

  status.textContent = '‚è≥ Subiendo archivo...';
  progressBar.style.width = '0%';

  const xhr = new XMLHttpRequest();
  xhr.open('POST', 'https://file.io');

  xhr.upload.addEventListener('progress', (e) => {
    if (e.lengthComputable) {
      const percent = (e.loaded / e.total) * 100;
      progressBar.style.width = percent + '%';
    }
  });

  xhr.onload = () => {
    try {
      const data = JSON.parse(xhr.responseText);
      if (data.success) {
        progressBar.style.width = '100%';
        status.innerHTML = `‚úÖ Archivo subido correctamente.<br>
        <a href="${data.link}" target="_blank" style="color:var(--accent-color);">üìé Ver o compartir archivo</a>`;
      } else {
        status.textContent = '‚ùå Error al subir el archivo.';
      }
    } catch {
      status.textContent = '‚ùå Error de respuesta del servidor.';
    }
  };

  xhr.onerror = () => {
    status.textContent = '‚ùå Error de conexi√≥n.';
  };

  xhr.send(formData);
}
// muestra barra animada

  </script>
</body>
</html>
